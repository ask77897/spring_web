<div class="my-5">
	<h1 class="text-center mb-5">게시글</h1>
	<div class="text-end mb-2">
		<a href="/posts/insert" class="btn btn-dark btn-sm px-5">글쓰기</a>
	</div>
	<div id="div_posts"></div>
</div>
<script id="temp_posts" type="x-handlebars-template">
	<table class="table table-striped table-dark">
		<tr class="text-center">
			<th>글번호</th>
			<th>글제목</th>
			<th>작성자</th>
			<th>작성일</th>
		</tr>
		{{#each .}}
			<tr>
				<td>{{pid}}</td>
				<td>
					<a href="/posts/read?pid={{pid}}">
						<div class="ellipsis">
							{{title}}
						</div>
					</a>
				</td>
				<td class="text-center">{{uname}}({{writer}})</td>
				<td class="text-end">{{fmtdate}}</td>
			</tr>
		{{/each}}
	</table>
</script>
<script>
	getPosts();

	function getPosts() {
		$.ajax({
			type: 'get',
			url: '/posts/list.json',
			success: function (data) {
				//console.log(data);
				const temp = Handlebars.compile($("#temp_posts").html());
				$("#div_posts").html(temp(data))
			}
		})
	}
</script>